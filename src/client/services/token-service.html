<script>

	Polymer({
		is: "token-service",

		hostAttributes: {
			hidden: true
		},

		get token()
		{
			return window.localStorage.token;
		},

		set token(newValue)
		{
			console.log("token-service::set token, newValue:", newValue);
			if(_.isString(newValue))
			{
				window.localStorage.token = newValue;
			}
			else
			{
				this.deleteToken();
			}
		},

		get tokenHeaders()
		{
			return {"Authorization": "Bearer " + window.localStorage.token};
		},

		deleteToken: function()
		{
			delete window.localStorage.token;
		}
  });
</script>